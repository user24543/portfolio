<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>o.o</title>
    <meta name="description" content="A minimalist personal portfolio presented as a text chat. Designed by Julian.">
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="https://www.svgrepo.com/show/452229/bubble-message.svg"/>
    <style>
      html, body {
        height: 100%;
      }
      body {
        min-height: 100vh;
        background: #000000;
        font-family: 'Inter', system-ui, sans-serif;
        color: #fff;
      }
.chat-container {
  max-width: 520px;
  margin: 0 0 0 0.1rem;  /* top:0, right:0, bottom:0, left: tiny offset */
  padding: 56px 8px 16px 0;  /* remove extra left padding */
  display: flex;
  flex-direction: column;
  gap: 5px;
  position: relative;
  min-height: 100vh;
  align-items: flex-start;
  text-align: left;
}


.bubble {
  display: inline-block;
  background: #1A1A1A;
  border-radius: 32px;
  padding: 12px 28px;
  font-size: 1.7rem;
  line-height: 1.6;
  color: #FFFFFF;
  margin: 0; 
  box-shadow: 0 6px 32px 0 rgba(0,0,0,0.20), 0 1.5px 6px 0 rgba(0,0,0,0.09);
  width: max-content;
  min-width: 68px;
  white-space: pre-line;
  text-align: left;

  /* smoother animation */
  opacity: 0;
  transform: translateY(20px) scale(0.95);
  animation: bubbleIn 0.48s cubic-bezier(.25,.8,.25,1) forwards;
  will-change: transform, opacity;
}

@keyframes bubbleIn {
  0% {
    opacity: 0;
    transform: translateY(25px) scale(0.9);
  }
  60% {
    opacity: 0.85;
    transform: translateY(-6px) scale(1.02);
  }
  80% {
    opacity: 1;
    transform: translateY(2px) scale(0.98);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.bubble--visible {
  animation-play-state: running;
}

      .bubble a {
        color: #0076FF;
        text-decoration: underline;
        font-weight: 500;
        word-break: break-all;
        transition: color 0.18s;
      }
      .bubble a:hover, .bubble a:focus {
        color: #86c5ff;
      }
      .bubble:last-child {
        margin-bottom: 24px;
      }

      /* ---- Typing Bubble ------ */
      .typing {
        display: inline-flex;
        align-items: center;
        background: linear-gradient(100deg, #232526 0%, #1A1A1A 100%);
        border-radius: 32px;
        padding: 12px 28px;
        font-size: 1.7rem;
        min-width: 68px;
        min-height: 0;
        color: #dddddd;
        box-shadow: 0 6px 32px 0 rgba(0,0,0,0.13), 0 1.5px 6px 0 rgba(0,0,0,0.07);
        opacity: 0;
        transform: translateY(32px) scale(0.85) rotateX(25deg);
        animation: bubbleIn 0.5s cubic-bezier(.4,2,.28,1) forwards, typingPulse 2s cubic-bezier(.4, 0, .2, 1) infinite alternate;
        animation-play-state: running;
        will-change: transform, opacity;
        gap: 8px;
      }

      @keyframes typingPulse {
        0% { box-shadow: 0 6px 32px 0 rgba(0,0,0,.13), 0 1.5px 6px 0 rgba(0,0,0,.07);}
        60% { box-shadow: 0 14px 40px 0 rgba(0,0,0,.18), 0 3.5px 12px 0 rgba(0,0,0,.11);}
        100% { box-shadow: 0 6px 32px 0 rgba(0,0,0,.16), 0 2px 7px 0 rgba(0,0,0,.11);}
      }
      .dot {
        background: #888888;    
        border-radius: 50%;
        width: 11px;
        height: 11px;
        margin: 0 2px;
        display: inline-block;
        opacity: 0.55;
        animation: blink 1s infinite both;
        vertical-align: middle;
        transition: background 0.22s;
      }
      .dot:nth-child(2) { animation-delay: 0.17s; }
      .dot:nth-child(3) { animation-delay: 0.33s; }

      @keyframes blink {
        0%   { opacity: 0.4; transform: scale(1);}
        40%  { opacity: 1;   transform: scale(1.25);}
        80%  { opacity: 0.5; transform: scale(1);}
        100% { opacity: 0.4; transform: scale(1);}
      }
      
      @media (max-width: 550px) {
        .chat-container {
          padding: 38px 4px 8px 4px;
        }
        .bubble,
        .typing {
          padding: 12px 16px;
          font-size: 1rem;
        }
        .bubble, .typing {
          min-width: 54px !important;
        }
        .dot {
          width: 8px;
          height: 8px;
        }
      }
    </style>
  </head>
  <body>
    <main>
      <section class="chat-container" aria-label="Personal portfolio chat" id="section-hero">
        <!-- Bubbles will inject here -->
      </section>
    </main>
    <script>
  const messages = [
  `Hey there <span aria-label="waving hand" role="img">ðŸ‘‹</span>`,
  "I'm Mattia",
  'I'm a Software Engineer',
  `I'm currently working on <a href="https://www.airesumeanalyzer.com" target="_blank" rel="noopener">an AI resume analyzer</a> and some <a href="ml-projects.html">machine learning/neural networks projects</a>`,
  `Iâ€™m always experimenting with new ideas`,
  `You can email me directly at <a href="mailto:hello@mxttia.it">hello@mxttia.it</a>`,
  "Or call me at +39 380 651 6673",
  "Have a nice day !",
  "~ M.",
];



      

      
      function getGreeting() {
  const hour = new Date().getHours();
  if(hour >= 5 && hour < 12) return "Morning";
  if(hour >= 12 && hour < 17) return "Afternoon";
  if(hour >= 17 && hour < 21) return "Evening";
  return "Night";
}

      const DELAY_BETWEEN = 840; // ms (bubble delay)
      const TYPING_DURATION = 784; // ms

      const chatContainer = document.querySelector('.chat-container');
      // Typing Indicator markup
      function typingBubble() {
        const div = document.createElement('div');
        div.setAttribute('role', 'status');
        div.className = "typing";
        div.innerHTML = `<span class="dot"></span><span class="dot"></span><span class="dot"></span>`;
        return div;
      }
      // Add a bubble (shows with animation)
      function showBubble(text) {
        const div = document.createElement('div');
        div.className = "bubble";
        div.innerHTML = text;
        chatContainer.appendChild(div);
        // Animate in
        setTimeout(() => div.classList.add("bubble--visible"), 30);
      }
      // Show typing indicator, then message bubble
      async function runConversation() {
        for(let i=0; i<messages.length; i++) {
          // Typing dots
          const typing = typingBubble();
          chatContainer.appendChild(typing);

          typing.scrollIntoView({ behavior: "smooth", block: "end" });

          await new Promise(res => setTimeout(res, TYPING_DURATION));

          chatContainer.removeChild(typing);

          showBubble(messages[i]);
          setTimeout(()=>{
            chatContainer.lastElementChild.scrollIntoView({ behavior:"smooth", block:"end"});
          }, 150);

          await new Promise(res => setTimeout(res, DELAY_BETWEEN));
        }
      }

      // Accessibility: allow keyboard navigation for links
      chatContainer.addEventListener('keydown', e => {
        if(e.key === "Enter" || e.key === " "){
          if(document.activeElement && document.activeElement.tagName === "A") {
            document.activeElement.click();
          }
        }
      });

      // Launch "conversation"
      window.addEventListener('DOMContentLoaded', runConversation);
    </script>
  </body>
</html>
